class inherited СИС2.БазовыйБланкРедактор "Газета", editor Роспись;

  inobject private

  func СсылочноеПоле_ПриОбзоре(Cell :TemplateCell; Value :Variant; var NewValue :Record) :Logical;
    var CardForSelect :CardForm;
    var Решение :Integer;
    if (Self.Record <> nil) then     --При условии, что оператор - внутри группы записей
      CardForSelect  = РКП_Статьи.Статьи2.0картГазетыВыбор.Create;
      CardForSelect.Cardfile.UseUserFilter = true;
      CardForSelect.Cardfile.UserFilter = 'РосписьСтатей';
      CardForSelect.ФрагментНазвания = Self.Record.НазваниеОсн;
      Решение = CardForSelect.ShowEx(NewValue, '', Window.ModalWindow);
      if (Решение = CmOk) then
        Газета = NewValue;
        Газета.НазваниеЛГС = НазваниеОсн;
        Газета.РосписьСтатей = true;
      fi;
    fi;
  end;

  proc Шаблон_ПриСчит;
    if (Газета = nil) then
      #NoWarning;
      СсылочноеПоле_ПриОбзоре(nil, nil, nil);
    fi;
  end;


end