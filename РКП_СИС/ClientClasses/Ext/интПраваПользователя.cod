extends МашинаРеквизитов.УправлениеДоступом.интПраваПользователя "";

import classes Functions, Def;

inclass public

  func ПолучитьКомпетенции :Def.tCompetence[];
    with МашинаРеквизитов.УправлениеДоступом.интПраваПользователя.OpenRecord(SessionInfo.RoleRecord) do
      if (ПолучитьЗначениеПрава('Компетенция.Разработчик'))     then AddInArray( Result, кмпРазработчик);   fi;
      if (ПолучитьЗначениеПрава('Компетенция.Администратор'))   then AddInArray( Result, кмпАдминистратор); fi;
      if (ПолучитьЗначениеПрава('Компетенция.Руководитель'))    then AddInArray( Result, кмпРуководитель);  fi;
      if (ПолучитьЗначениеПрава('Компетенция.ОППИ.ЗавОтделом')) then AddInArray( Result, кмпОППИзав);       fi;
      if (ПолучитьЗначениеПрава('Компетенция.ОППИ.Сотрудник'))  then AddInArray( Result, кмпОППИсотр);      fi;
      if (ПолучитьЗначениеПрава('Компетенция.ОРГП.ЗавОтделом')) then AddInArray( Result, кмпОРГПзав);       fi;
      if (ПолучитьЗначениеПрава('Компетенция.ОРГП.Сотрудник'))  then AddInArray( Result, кмпОРГПсотр);      fi;
      if (ПолучитьЗначениеПрава('Компетенция.ГЛГС.ЗавОтделом')) then AddInArray( Result, кмпГЛГСзав);       fi;
      if (ПолучитьЗначениеПрава('Компетенция.ГЛГС.Сотрудник'))  then AddInArray( Result, кмпГЛГСсотр);      fi;
    end;
  end;

inobject public

  func ПолучитьКомпетенцииРоли :Def.tCompetence[];
    if (ПолучитьЗначениеПрава('Компетенция.Разработчик',,false))     then AddInArray( Result, кмпРазработчик);   fi;
    if (ПолучитьЗначениеПрава('Компетенция.Администратор',,false))   then AddInArray( Result, кмпАдминистратор); fi;
    if (ПолучитьЗначениеПрава('Компетенция.Руководитель',,false))    then AddInArray( Result, кмпРуководитель);  fi;
    if (ПолучитьЗначениеПрава('Компетенция.ОППИ.ЗавОтделом',,false)) then AddInArray( Result, кмпОППИзав);       fi;
    if (ПолучитьЗначениеПрава('Компетенция.ОППИ.Сотрудник',,false))  then AddInArray( Result, кмпОППИсотр);      fi;
    if (ПолучитьЗначениеПрава('Компетенция.ОРГП.ЗавОтделом',,false)) then AddInArray( Result, кмпОРГПзав);       fi;
    if (ПолучитьЗначениеПрава('Компетенция.ОРГП.Сотрудник',,false))  then AddInArray( Result, кмпОРГПсотр);      fi;
    if (ПолучитьЗначениеПрава('Компетенция.ГЛГС.ЗавОтделом',,false)) then AddInArray( Result, кмпГЛГСзав);       fi;
    if (ПолучитьЗначениеПрава('Компетенция.ГЛГС.Сотрудник',,false))  then AddInArray( Result, кмпГЛГСсотр);      fi;
  end;


end