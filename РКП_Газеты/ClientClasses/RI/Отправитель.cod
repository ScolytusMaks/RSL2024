extends Базовый.Данные.интСубъект;

inclass public

  func БланкРедакторПоУмолчанию :Class BlankForm;
    Return УчетГазет.Справочники.редОтправитель;
  end;

  func КартотекаПоУмолчанию: Class CardForm;
    Result = УчетГазет.Справочники.картОтправители;
  end;

inobject public

  proc ИнициализироватьПоУмолчанию synonym InitByDefault;
    Init('Новый отправитель', Record.ExtID);
    with Record do
      if (КраткоеИмя = nil) and (Имя <> nil) then
        КраткоеИмя = Имя;
      fi;
    end;
  end;

inobject private

  proc ДействияПриДублировании;
    extended ДействияПриДублировании;
    Record.ИНН = nil;
    Record.Код = Record.ExtID;
  end;

  proc Записать synonym Post( аДиалоговыйРежим :Logical = False );
    if (Record.ЮрАдрес = nil) and (Record.АдресФактический = nil) and (Record.АдресПочтовый = nil) then
      Record.Адрес = nil;
    else
      if (Record.АдресПочтовый <> nil) then    Record.Адрес = Record.АдресПочтовый; fi;
      if (Record.АдресФактический <> nil) then Record.Адрес = Record.АдресФактический; fi;
      if (Record.ЮрАдрес <> nil) then          Record.Адрес = Record.ЮрАдрес; fi;
    fi;
    if (Record.КраткоеИмя = nil) and (Record.ПолнИмя = nil) then
      Record.Имя = nil;
    else
      if (Record.КраткоеИмя <> nil) then Record.Имя = Record.КраткоеИмя; fi;
      if (Record.ПолнИмя <> nil) then    Record.Имя = Record.ПолнИмя; fi;
    fi;
    extended Post;
  end;


end